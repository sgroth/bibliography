% !TEX TS-program = pdflatex
\documentclass[a4paper]{article}

\RequirePackage[l2tabu, orthodox]{nag}

\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

% Fonts and Typography
\usepackage[osf]{ebgaramond} % Garamond for rm
%\usepackage[osf]{roboto} % SourceSansPro for ss
\usepackage[]{AlegreyaSans}
%\usepackage{cochineal}
\usepackage[scaled=0.9]{beramono} % SourceCodePro for tt
\usepackage{microtype}
\usepackage[autostyle=true]{csquotes}
\usepackage[svgnames]{xcolor}
\usepackage[]{hyperref}
\renewcommand\UrlFont{\rmfamily}

\hypersetup{
  colorlinks=true,
  urlcolor=MediumBlue
}
\usepackage{sectsty} % Allows changing the font options for sections in a document
\allsectionsfont{\color{MediumBlue}\small\normalfont\sffamily} 

%--------------------
\clubpenalty = 20000 
\widowpenalty = 20000 
\displaywidowpenalty = 20000
%--------------------

\usepackage{hyphenat}
%\hyphenation{hous-ing em-pi-risch-kul-tur-wis-sen-schaft-lich-en }

% Version Control
\usepackage{gitfile-info}

% Headers and Footers
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\fancyhead{}
\fancyfoot{}
\rfoot{\thepage}
\lfoot{\textcolor{gray}{{\footnotesize\texttt{Version \gfiGetCommitAbr, \gfiGetYear--\gfiGetMonth--\gfiGetDay, \href{https://github.com/sgroth/bibliography}{https://github.com/sgroth/bibliography}}}}} % adds version control information
%bibannotesep=\addperiod\addspace
% Bibliography
\usepackage[authordate,notes,backend=biber,isbn=false,annotation=bib,doi=only,url=false,bibannotesep=period,giveninits=false,defernumbers=true,sorting=ydnt]{biblatex-chicago}
\makeatletter
\AtEveryBibitem{
  \global\undef\bbx@lasthash}
\makeatother

\DeclareFieldFormat{doi}{
  \mkbibacro{DOI}\addcolon\space
  \ifhyperref
    {\href{https://doi.org/#1}{\nolinkurl{#1}}}
    {\nolinkurl{#1}}}

% Filter for papers both in journals and edited volumes
%\defbibfilter{papers}{
%  type=article or
%  type=incollection
%}

% Filter for entries either inpreparation OR notaccepted
% \defbibfilter{vorbereitung}{
%   keyword=inpreparation or
%   keyword=notaccepted or
%   keyword=submitted or
%   keyword=inprint
% }

\addbibresource{sgroth-bibliography.en.bib}

\DeclareFieldFormat{labelnumberwidth}{}
\setlength{\biblabelsep}{0pt}
\DeclareFieldFormat{annotation}{{#1}}

\begin{document}

\title{List of Publications}
\author{PD Dr. Stefan Groth\\\footnotesize{\texttt{\href{https://www.stefangroth.com}{https://www.stefangroth.com}}}}
\date{Version: \href{https://github.com/sgroth/bibliography}{\gfiGetCommitAbr}, \gfiGetYear--\gfiGetMonth--\gfiGetDay}

\maketitle

\nocite{*} % includes all entries from my personal bibliography

% Print segmented bibliographies
\printbibliography[keyword=pre,title={Submitted Publications and Publications in Preparation}] 
\printbibliography[type=book,notkeyword=pre,notkeyword=inprint,notkeyword=notaccepted,notkeyword=inpreparation,notkeyword=submitted,notkeyword=miszelle,keyword=monography,title={Monographies}]
\printbibliography[type=book,notkeyword=pre,notkeyword=inprint,notkeyword=miszelle,notkeyword=notaccepted,notkeyword=inpreparation,notkeyword=submitted,keyword=editedvolume,title={Edited Volumes}]
\printbibliography[keyword=specialissue,notkeyword=pre,notkeyword=inprint,notkeyword=inpreparation,title={Special Issues}]
\printbibliography[nottype=periodical,notkeyword=pre,notkeyword=inprint,notkeyword=notaccepted,notkeyword=inpreparation,notkeyword=submitted,keyword=peerreview,title={Peer Reviewed Papers}]
\printbibliography[type=article,nottype=periodical,notkeyword=inprint,notkeyword=pre,notkeyword=notaccepted,notkeyword=inpreparation,notkeyword=miszelle,notkeyword=submitted,notkeyword=peerreview,title={Journal Articles}]
\printbibliography[type=incollection,notkeyword=pre,notkeyword=inprint,notkeyword=notaccepted,notkeyword=submitted,notkeyword=inpreparation,notkeyword=miszelle,title={Contributions to Edited Volumes}]
\printbibliography[keyword=miszelle,notkeyword=pre,notkeyword=inprint,notkeyword=inpreparation,title={Miscellany}]
\printbibliography[type=review,notkeyword=pre,notkeyword=inprint,notkeyword=notaccepted,notkeyword=inpreparation,notkeyword=submitted,notkeyword=miszelle,title={Reviews}]

%--------------------
\input{cv/presentations.en}
%--------------------

\end{document}


